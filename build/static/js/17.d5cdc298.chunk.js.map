{"version":3,"sources":["pages/Login.js","services/auth.service.js","assets/img/chats-transparent.png"],"names":["required","value","className","role","validEmail","isEmail","Login","props","form","useRef","checkBtn","useState","email","setEmail","password","setPassword","loading","setLoading","message","setMessage","style","backgroundImage","backgroundSize","height","class","src","require","alt","onSubmit","e","preventDefault","current","validateAll","context","_errors","length","AuthService","login","then","history","push","window","location","reload","error","resMessage","response","data","toString","ref","for","name","onChange","target","type","validations","placeholder","disabled","display","to","register","Axios","post","localStorage","setItem","JSON","stringify","console","log","logout","removeItem","getCurrentNGO","parse","getItem","module","exports"],"mappings":"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","file":"static/js/17.d5cdc298.chunk.js","sourcesContent":["import React, { useState, useRef } from 'react'\nimport { Link } from 'react-router-dom'\nimport Form from \"react-validation/build/form\";\nimport Input from \"react-validation/build/input\";\nimport CheckButton from \"react-validation/build/button\";\n\nimport { isEmail } from \"validator\"\n\nimport AuthService from \"../services/auth.service\";\n\nconst backgroundImage = 'https://res.cloudinary.com/emmaodia/image/upload/v1601308326/NGOphotos_rfrllr.jpg'\n\nconst required = value => {\n  if (!value) {\n    return (\n      <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative\" role=\"alert\">\n          <span className=\"block sm:inline\">This field is required!</span>\n      </div>\n    );\n  }\n};\n\nconst validEmail = value => {\n  if (!isEmail(value)) {\n    return (\n      <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative\" role=\"alert\">\n        <span className=\"block sm:inline\">Please enter a valid email address.</span>\n      </div>\n    );\n  }\n};\n\nconst Login = (props) => {\n  const form = useRef();\n  const checkBtn = useRef();\n\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState(\"\");\n\n  const onChangeEmail = (e) => {\n    const email = e.target.value;\n    setEmail(email);\n  };\n\n  const onChangePassword = (e) => {\n    const password = e.target.value;\n    setPassword(password);\n  };\n\n  const handleLogin = (e) => {\n    e.preventDefault();\n\n    setMessage(\"\");\n    setLoading(true);\n\n    form.current.validateAll();\n\n    if (checkBtn.current.context._errors.length === 0) {\n      AuthService.login(email, password).then(\n        () => {\n          props.history.push(\"/app/dashboard\");\n          window.location.reload();\n        },\n        (error) => {\n          const resMessage =\n            (error.response &&\n              error.response.data &&\n              error.response.data.message) ||\n            error.message ||\n            error.toString();\n\n          setLoading(false);\n          setMessage(resMessage);\n        }\n      );\n    } else {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <section className=\"body-bg min-h-screen pt-12 md:pt-20 pb-6 px-2 md:px-0\" style={{ backgroundImage:`url(${backgroundImage})`, backgroundSize: \"cover\",\n    height: \"100vh\", }}>\n            <header className=\"max-w-lg mx-auto\">\n                <div class=\"flex items-center justify-center\">\n                  <img class=\"h-16\" src={require('../assets/img/chats-transparent.png')} alt=\"CHATS logo\" />\n                </div>\n                <div>\n                    <h1 className=\"flex text-2xl font-Gilroy-Bold text-white text-center justify-center\">Welcome to CHATS</h1>\n                </div>\n            </header>\n\n            <main className=\"bg-white max-w-lg mx-auto p-8 md:p-12 my-10 rounded-lg shadow-2xl\">\n                {/* <section>\n                    <h3 className=\"font-bold text-2xl\">Welcome,</h3>\n                    <p className=\"text-gray-600 pt-2\">Sign in to your account.</p>\n                </section> */}\n\n                <section className=\"mt-10\">\n                    <Form className=\"flex flex-col\" onSubmit={handleLogin} ref={form}>\n                        {/* <div className=\"mb-6 pt-3 rounded bg-gray-200\">\n                            <label className=\"block text-gray-700 text-sm font-bold mb-2 ml-3\" for=\"email\">Name of Organization</label>\n                            <input type=\"text\" id=\"email\" className=\"bg-gray-200 rounded w-full text-gray-700 focus:outline-none border-b-4 border-gray-300 focus:border-purple-600 transition duration-500 px-3 pb-3\" />\n                        </div> */}\n                        <div className=\"mb-4\">\n                          <label className=\"block text-gray-700 text-sm font-bold mb-2\" for=\"username\">\n                            Email\n                          </label>\n                          <Input \n                            className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-1 leading-tight focus:outline-none focus:shadow-outline\" \n                            name=\"email\" \n                            onChange={onChangeEmail}\n                            type=\"text\" \n                            validations={[required, validEmail]} \n                            placeholder=\"\" \n                          />\n                        </div>\n                        <div className=\"mb-6\">\n                          <label className=\"block text-gray-700 text-sm font-bold mb-2\" for=\"password\">\n                            Password\n                          </label>\n                          <Input \n                            className=\"shadow appearance-none border border rounded w-full py-2 px-3 text-gray-700 mb-1 leading-tight focus:outline-none focus:shadow-outline\" \n                            name=\"password\" \n                            onChange={onChangePassword}\n                            type=\"password\" \n                            validations={[required]} \n                            placeholder=\"\" \n                          />\n                          <p className=\"text-red-500 text-xs italic\"></p>\n                        </div>\n                        {/* <div className=\"flex justify-end\">\n                            <Link to=\"#\" className=\"text-sm text-purple-600 hover:text-purple-700 hover:underline mb-6\">Forgot your password?</Link>\n                        </div> */}\n                        {/* <Link to='/app/dashboard' className=\"bg-purple-600 hover:bg-purple-700 text-white text-center font-bold py-2 rounded shadow-lg hover:shadow-xl transition duration-200\" \n                        // type=\"submit\"\n                        >Login\n                        </Link> */}\n                        {/* <div className=\"form-group\"> */}\n                        <button className=\"bg-purple-600 hover:bg-purple-700 text-white text-center font-bold py-2 rounded shadow-lg hover:shadow-xl transition duration-200\" disabled={loading}>\n                            {loading && (\n                              // <span className=\"spinner-border spinner-border-sm\"></span>\n                              // <svg className=\"animate-spin h-5 w-5 mr-3\" viewBox=\"0 0 24 24\">\n                              // </svg>\n                              <div>Page Loading... Please wait!</div>\n                            )}\n                            <span >Login</span>\n                          </button>\n                        {/* </div> */}\n\n                        {message && (\n                          <div class=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative\" role=\"alert\">\n                          {/* <strong class=\"font-bold\">Holy smokes!</strong> */}\n                           <span class=\"block sm:inline\">{message}</span>\n                          </div>\n                          // <div className=\"form-group\">\n                          //   <div className=\"alert alert-danger\" role=\"alert\">\n                          //     {message}\n                          //   </div>\n                          // </div>\n                        )}\n                        <CheckButton\n                          style={{ display: \"none\" }}\n                          ref={checkBtn}\n                        />\n                    </Form>\n                    <div className=\"max-w-lg mx-auto text-center mt-12 mb-6\">\n                        <p className=\"text-black\">Don't have an account? <Link to=\"/create-account\" className=\"font-bold hover:text-purple-700 hover:underline\">Sign Up</Link>.</p>\n                    </div>\n                    <div className=\"flex justify-center\">\n                        <Link to=\"#\" className=\"text-sm text-black-600 hover:text-purple-700 hover:underline mb-6\">Forgot your password?</Link>\n                    </div>\n                </section>\n            </main>\n\n            {/* <div className=\"max-w-lg mx-auto text-center mt-12 mb-6\">\n                <p className=\"text-white\">Don't have an account? <Link to=\"#\" className=\"font-bold hover:underline\">Sign Up</Link>.</p>\n            </div> */}\n\n            {/* <footer className=\"max-w-lg mx-auto flex justify-center text-white\">\n                <Link to=\"#\" className=\"hover:underline\">Contact</Link>\n                <span className=\"mx-3\">•</span>\n                <Link to=\"#\" className=\"hover:underline\">Privacy</Link>\n            </footer> */}\n            </section>\n\n    // <div className=\"flex items-center min-h-screen p-6 bg-gray-50 dark:bg-gray-900\">\n    //   <div className=\"flex-1 h-full max-w-2xl mx-auto overflow-hidden bg-white rounded-lg shadow-2xl dark:bg-gray-800\">\n    //      <div className=\"flex flex-col overflow-y-auto md:flex-row\"> \n    //        <div className=\"h-32 md:h-auto md:w-1/2\">\n    //         <img\n    //           aria-hidden=\"true\"\n    //           className=\"object-cover w-full h-full dark:hidden\"\n    //           src={ImageLight}\n    //           alt=\"Office\"\n    //         />\n    //         <img\n    //           aria-hidden=\"true\"\n    //           className=\"hidden object-cover w-full h-full dark:block\"\n    //           src={ImageDark}\n    //           alt=\"Office\"\n    //         />\n    //       </div>\n    //       <main className=\"flex items-center justify-center p-6 sm:p-12\">\n    //         <div className=\"w-full\">\n    //           <Label>\n    //             <span>Email</span>\n    //             <Input className=\"mt-1\" type=\"email\" placeholder=\"john@doe.com\" />\n    //           </Label>\n\n    //           <Label className=\"mt-4\">\n    //             <span>Password</span>\n    //             <Input className=\"mt-1\" type=\"password\" placeholder=\"***************\" />\n    //           </Label>\n\n    //           <Button className=\"mt-4\" block tag={Link} to=\"/app\">\n    //             Log in\n    //           </Button>\n\n    //           <hr className=\"my-8\" />\n\n    //           <p className=\"mt-4\">\n    //             <Link\n    //               className=\"text-sm font-medium text-purple-600 dark:text-purple-400 hover:underline\"\n    //               to=\"/create-account\"\n    //             >\n    //               Dont have an Account? Sign Up\n    //             </Link>\n    //           </p>\n    //           <p className=\"mt-1\">\n    //             <Link\n    //               className=\"text-sm font-medium text-purple-600 dark:text-purple-400 hover:underline\"\n    //               to=\"/forgot-password\"\n    //             >\n    //               Forgot your password?\n    //             </Link>\n    //           </p>\n    //         </div>\n    //       </main>\n    //     </div>\n       \n    //       <form className=\"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4\">\n    //         <div className=\"mb-4\">\n    //           <label className=\"block text-gray-700 text-sm font-bold mb-2\" for=\"username\">\n    //             Email\n    //           </label>\n    //           <input className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\" id=\"username\" type=\"text\" placeholder=\"\" />\n    //         </div>\n    //         <div className=\"mb-6\">\n    //           <label className=\"block text-gray-700 text-sm font-bold mb-2\" for=\"password\">\n    //             Password\n    //           </label>\n    //           <input className=\"shadow appearance-none border border-grey-500 rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline\" id=\"password\" type=\"password\" placeholder=\"\" />\n    //           <p className=\"text-red-500 text-xs italic\"></p>\n    //         </div>\n    //         <div className=\"flex items-center justify-between\">\n    //           <button className=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\" type=\"button\">\n    //             Sign In\n    //           </button>\n    //           <Link to className=\"inline-block align-baseline font-bold text-sm text-blue-500 hover:text-blue-800\" href=\"#\">\n    //             Forgot Password?\n    //           </Link>\n    //         </div>\n    //       </form>\n    //     </div>\n    // </div>\n  )\n}\n\nexport default Login\n\n\n// import React from 'react';\n// import { Link } from 'react-router-dom';\n// import { Label, Input, Button } from '@windmill/react-ui'\n// import '../styles/app.css'\n\n// function Login() {\n//     return (\n//         <>\n//             <section class=\"body-bg min-h-screen pt-12 md:pt-20 pb-6 px-2 md:px-0\" style={{font:'Lato'}}>\n//             <header className=\"max-w-lg mx-auto\">\n//                 <Link to=\"#\">\n//                     <h1 className=\"text-4xl font-bold text-white text-center\">Chats NGO</h1>\n//                 </Link>\n//             </header>\n\n//             <main className=\"bg-white max-w-lg mx-auto p-8 md:p-12 my-10 rounded-lg shadow-2xl\">\n//                 <section>\n//                     <h3 className=\"font-bold text-2xl\">Welcome,</h3>\n//                     <p className=\"text-gray-600 pt-2\">Sign in to your account.</p>\n//                 </section>\n\n//                 <div className=\"w-full\">\n//               <h1 className=\"mb-4 text-xl font-semibold text-gray-700 dark:text-gray-200\">Login</h1>\n//               <Label>\n//                 <span>Email</span>\n//                 <Input className=\"mt-1\" type=\"email\" placeholder=\"john@doe.com\" />\n//               </Label>\n\n//               <Label className=\"mt-4\">\n//                 <span>Password</span>\n//                 <Input className=\"mt-1\" type=\"password\" placeholder=\"***************\" />\n//               </Label>\n\n//               <Button className=\"mt-4\" block tag={Link} to=\"/app\">\n//                 Log in\n//               </Button>\n\n//               <hr className=\"my-8\" />\n\n             \n\n//               <p className=\"mt-4\">\n//                 <Link\n//                   className=\"text-sm font-medium text-purple-600 dark:text-purple-400 hover:underline\"\n//                   to=\"/forgot-password\"\n//                 >\n//                   Forgot your password?\n//                 </Link>\n//               </p>\n//               <p className=\"mt-1\">\n//                 <Link\n//                   className=\"text-sm font-medium text-purple-600 dark:text-purple-400 hover:underline\"\n//                   to=\"/create-account\"\n//                 >\n//                   Create account\n//                 </Link>\n//               </p>\n//             </div>\n//             </main>\n\n//             <div className=\"max-w-lg mx-auto text-center mt-12 mb-6\">\n//                 <p className=\"text-white\">Have an account? <Link to=\"#\" className=\"font-bold hover:underline\">Login</Link>.</p>\n//             </div>\n\n//             <footer className=\"max-w-lg mx-auto flex justify-center text-white\">\n//                 <Link to=\"#\" className=\"hover:underline\">Contact</Link>\n//                 <span className=\"mx-3\">•</span>\n//                 <Link to=\"#\" className=\"hover:underline\">Privacy</Link>\n//             </footer>\n//             </section>\n//         </>\n//     )   \n// }\n\n// export default Login;","import Axios from 'axios';\n\nconst SIGNUP_API_URL = `https://chats-backend.herokuapp.com/api/v1/ngo/auth/register`;\nconst SIGNIN_API_URL = `https://chats-backend.herokuapp.com/api/v1/ngo/auth/login`;\n\n\nconst login = (email, password) => {\n        return Axios\n                .post(SIGNIN_API_URL, {\n                    email,\n                    password\n                })\n                .then(response => {\n                    if (response.data) {\n                        localStorage.setItem('organization', JSON.stringify(response.data));\n                    }\n\n                    console.log(\"response\")\n                    console.log(response.data)\n                    return response.data\n                })\n    }\n\nconst logout = () => {\n        localStorage.removeItem('organization');\n    }\n\nconst register = (name, email, password) => {\n        return Axios\n                .post(SIGNUP_API_URL, {\n                    name, email, password\n                })\n    }\n\nconst getCurrentNGO = () => {\n        return JSON.parse(localStorage.getItem('organization'))\n    }\n\n\nexport default {\n    register,\n  login,\n  logout,\n  getCurrentNGO,\n}","module.exports = __webpack_public_path__ + \"static/media/chats-transparent.08346459.png\";"],"sourceRoot":""}